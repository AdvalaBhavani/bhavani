<!DOCTYPE html>
<html>
<head>
  <title>Event Creator</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 30px; }
    input, textarea, select, button { display: block; margin: 10px 0; padding: 8px; width: 300px; }
    .event { margin-top: 20px; padding: 10px; border: 1px solid #ccc; background: #f9f9f9; width: 320px; }
  </style>
</head>
<body>

  <h2>Create Event</h2>
  <form id="eventForm">
    <input type="text" id="title" placeholder="Event Title" required>
    <textarea id="description" placeholder="Event Description (optional)"></textarea>
    <input type="datetime-local" id="datetime" required>
    <input type="email" id="email" placeholder="Email for Reminder (optional)">
    <select id="category">
      <option value="Birthday">Birthday</option>
      <option value="Meeting">Meeting</option>
      <option value="Holiday">Holiday</option>
      <option value="Custom">Custom</option>
    </select>
    <button type="submit">Create Event</button>
  </form>

  <h3>Countdown List:</h3>
  <div id="eventList"></div>

  <script>
    const form = document.getElementById("eventForm");
    const eventList = document.getElementById("eventList");

    form.addEventListener("submit", function (e) {
      e.preventDefault();

      const title = document.getElementById("title").value.trim();
      const description = document.getElementById("description").value.trim();
      const datetime = document.getElementById("datetime").value;
      const email = document.getElementById("email").value.trim();
      const category = document.getElementById("category").value;
      const futureDate = new Date(datetime);

      if (!title || !datetime) {
        alert("Please fill all required fields.");
        return;
      }

      if (futureDate <= new Date()) {
        alert("Date and time must be in the future.");
        return;
      }

      const eventDiv = document.createElement("div");
      eventDiv.className = "event";
      eventDiv.innerHTML = `
        <strong>${title}</strong> (${category})<br>
        <em>${description || "No description"}</em><br>
        ‚è∞ Countdown: <span class="countdown"></span><br>
        ${email ? "üìß Reminder to: " + email : ""}
      `;
      eventList.appendChild(eventDiv);

      updateCountdown(eventDiv.querySelector(".countdown"), futureDate);
    });

    function updateCountdown(span, eventTime) {
      function tick() {
        const now = new Date();
        const diff = eventTime - now;

        if (diff <= 0) {
          span.textContent = "Time's up!";
          return;
        }

        const mins = Math.floor(diff / 60000);
        const hrs = Math.floor(mins / 60);
        const days = Math.floor(hrs / 24);

        span.textContent = `${days}d ${hrs % 24}h ${mins % 60}m remaining`;
        setTimeout(tick, 60000); // update every minute
      }
      tick();
    }
  </script>

</body>
</html>